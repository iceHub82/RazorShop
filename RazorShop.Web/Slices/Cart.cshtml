@inherits RazorSliceHttpResult<CheckoutCartVm>

<section id="section" class="py-5">
    <div class="container px-4 px-lg-5">
        @if (!Model.CheckoutCartItems!.Any())
        {
            <div class="row">
                <div class="col">
                    <h4>Your checkout cart is empty</h4>
                </div>
            </div>
        }
        else
        {
            <div class="row">
                <div class="col-6">
                    <div class="row">
                        <div class="col">
                            <h1 class="mb-2">Your shopping cart (@Model.CheckoutCartQuantity items)</h1>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            Will be sent Today!
                        </div>
                    </div>
                    @foreach (var item in Model.CheckoutCartItems!)
                    {
                        <div class="row border-bottom">
                            <div class="col">
                                Image
                            </div>
                            <div class="col">
                                <div class="row">
                                    <div class="col">
                                        Brand
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <a hx-get="/Product/@item.ProductId"
                                           hx-target="#section"
                                           hx-push-url="true" class="text-primary text-decoration-underline" style="cursor: pointer;">
                                           @item.Name</a>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        @item.Description
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        @item.Price
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        @item.Size
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <select id="quantityDd" hx-get="/cart/updatecartitemquantity/@item.Id"
                                        hx-trigger="change"
                                        hx-target="#section"
                                        hx-include="this"
                                        name="quantity" class="form-select">
                                    @for (int i = 1; i <= 10; i++)
                                    {
                                        <option value="@i" @(item.Quantity == i ? "selected" : string.Empty)>@i</option>
                                    }
                                </select>
                            </div>
                            <div class="col">
                                <div hx-delete="/checkoutcart/delete/@item.Id"
                                     hx-target="#section"
                                     role="button" class="col">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
                                        <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                    }
                </div>
                <div class="col-6">
                    <div class="card">
                        <div class="card-body">
                            <div class="container">
                                <div class="row pb-2">
                                    <div class="col">
                                        Subtotal
                                    </div>
                                    <div class="col text-end">
                                        @Model.CheckoutCartTotal
                                    </div>
                                </div>
                                <div class="row pb-2">
                                    <div class="col">
                                        Delivery
                                    </div>
                                    <div class="col text-end">
                                        0,00 kr
                                    </div>
                                </div>
                                <div class="row pt-2 border-top">
                                    <div class="col">
                                        <strong>Total</strong><span class="text-muted" style="font-size: 0.7rem;"> VAT included</span>
                                    </div>
                                    <div class="col text-end">
                                        <strong>@Model.CheckoutCartTotal</strong>
                                    </div>
                                </div>
                                <div class="row pt-2">
                                    <div class="col">
                                        <button hx-get="/Checkout"
                                                hx-target="#section"
                                                hx-push-url="true"
                                                hx-swap="outerHTML"
                                                class="btn btn-primary w-100">
                                            Checkout
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
    <div id="header" hx-swap-oob="delete"></div>
</section>